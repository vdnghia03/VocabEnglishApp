
# 3.3 Luồng học tập (Study Flow Orchestrator)

## 1. Cơ chế hoạt động
Khi `view` chuyển sang trạng thái `'study'`, `App.jsx` sẽ ẩn toàn bộ nội dung khác và chỉ hiển thị khu vực học tập. Nó đóng vai trò "người điều phối" (Orchestrator), quyết định Step nào được hiện ra.

## 2. Logic chuyển bước
Sử dụng Render có điều kiện (Conditional Rendering) dựa trên state `studyStep`.

### Sơ đồ luồng dữ liệu:
1. **Khởi tạo:** User bấm "Học ngay" -> `setStudyStep(1)`.
2. **Bước 1 (Chép từ):**
   - Render component `<StudyStep1 />`.
   - Truyền props: `lesson` (dữ liệu bài học).
   - Truyền callback: `onComplete={() => setStudyStep(2)}`.
   - *Khi StudyStep1 chạy xong, nó gọi onComplete -> App tăng step lên 2.*
3. **Bước 2 (Flashcard):**
   - Render component `<StudyStep2 />`.
   - Truyền props tương tự.
   - Callback: `onComplete={() => setStudyStep(3)}`.
4. **Bước 3 (Game):**
   - Render component `<StudyStep3 />`.
   - Callback: `onComplete={handleFinishCourse}`.
5. **Kết thúc:**
   - `handleFinishCourse` hiển thị thông báo chúc mừng và reset về Home.

## 3. Mã giả (Pseudo-code trong Render)
```jsx
{view === 'study' && (
    <div className="w-full">
        {studyStep === 1 && <StudyStep1 onComplete={() => setStudyStep(2)} ... />}
        {studyStep === 2 && <StudyStep2 onComplete={() => setStudyStep(3)} ... />}
        {studyStep === 3 && <StudyStep3 onComplete={handleFinishCourse} ... />}
    </div>
)}

```