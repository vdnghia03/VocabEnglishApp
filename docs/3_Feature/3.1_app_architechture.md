# 3.1 App Architecture (Kiến trúc & Điều hướng)

## 1. Tổng quan
`App.jsx` đóng vai trò là **Container Component** (Bộ chứa chính). Nó không dùng React Router mà quản lý việc chuyển màn hình thông qua State nội bộ (`view`), giúp ứng dụng hoạt động mượt mà như Single Page Application (SPA).

## 2. Quản lý Trạng thái (Main States)
Các biến State quan trọng nhất điều khiển luồng ứng dụng:

| Tên State | Kiểu dữ liệu | Giá trị mặc định | Mô tả |
| :--- | :--- | :--- | :--- |
| `view` | String | `'welcome'` | Xác định màn hình đang hiển thị. Các giá trị: `'welcome'`, `'list'`, `'detail'`, `'study'`. |
| `currentLesson` | Object \| null | `null` | Chứa dữ liệu bài học đang được chọn. |
| `studyStep` | Number | `1` | Xác định bước học hiện tại (1: Chép từ, 2: Flashcard, 3: Game). |

## 3. Hàm Điều hướng (Navigation Actions)
Các hàm chịu trách nhiệm chuyển đổi giữa các view:

- **`handleGoToList()`**: Chuyển `view` sang `'list'`. Reset trang về 1.
- **`handleSelectLesson(lesson)`**: Nhận vào object bài học, set `currentLesson`, chuyển `view` sang `'detail'`.
- **`handleStartStudy()`**:
  - Nếu đang ở Home: Lấy `defaultData`.
  - Set `view` sang `'study'`, reset `studyStep` về 1.
- **`handleBackToHome()`**: Reset toàn bộ trạng thái về màn hình Welcome.
- **`handleFinishCourse()`**: Được gọi khi hoàn thành bước 3. Hiển thị thông báo và quay về Home.

## 4. Cấu trúc Giao diện (Layout Structure)
Sử dụng Tailwind CSS để chia bố cục:
- **Wrapper:** `min-h-screen`, `flex-col`.
- **Header:** Cố định ở trên cùng (`w-full`).
- **Body:** Flex container chia làm 2 cột:
  - **Left Sidebar (25%):** Chứa Menu điều hướng (Nút List, Nút Quay lại).
  - **Right Content (75%):** Khu vực hiển thị động (`view` thay đổi thì nội dung này thay đổi).